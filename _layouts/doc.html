<!DOCTYPE HTML>
<html lang="en">

<head>
    {%- include head.html -%}

    {% assign sorted_docs = site.docs | sort: 'order' %}
    {% assign prev = nil %}
    {% assign next = nil %}

    {% assign page_url = page.url | relative_url | append: "/" %}

    {% for doc in sorted_docs %}
        {% assign doc_url = doc.url | relative_url | append: "/" %}
        {% if doc_url == page_url %}
            {% assign index = forloop.index0 %}
            {% if index > 0 %}
                {% assign prev = sorted_docs[index | minus: 1] %}
            {% endif %}
            {% if index < sorted_docs.size | minus: 1 %}
                {% assign next = sorted_docs[index | plus: 1] %}
            {% endif %}
        {% endif %}
    {% endfor %}

    {% if prev %}
        <link rel="prev" href="{{ prev.url | relative_url }}" />
    {% else %}
        <link rel="prev" href="{{ site.baseurl }}/" />
    {% endif %}

    {% if next %}
        <link rel="next" href="{{ next.url | relative_url }}" />
    {% endif %}
</head>

<body>
    <div class="book">
        {%- include toc-date.html -%}

        <div class="book-body">
            <div class="book-header" role="navigation">
                <h1>
                    <i class="fa fa-circle-o-notch fa-spin"></i>
                    {% if page.title %}
                        <a href=".">{{ page.title | escape }}</a>
                    {% else %}
                        <a href=".">{{ site.title | escape }}</a>
                    {% endif %}
                </h1>
            </div>

            <div class="body-inner">
                {%- include body.html -%}

                {% if prev %}
                <a href="{{ prev.url | relative_url }}" class="navigation navigation-prev navigation-unique"
                    aria-label="Previous page: {{ prev.title }}">
                    <i class="fa fa-angle-left"></i>
                </a>
                {% else %}
                <a href="{{ site.baseurl }}/" class="navigation navigation-prev navigation-unique"
                    aria-label="Previous page: {{ site.title }}">
                    <i class="fa fa-angle-left"></i>
                </a>
                {% endif %}

                {% if next %}
                <a href="{{ next.url | relative_url }}" class="navigation navigation-next navigation-unique"
                    aria-label="Next page: {{ next.title }}">
                    <i class="fa fa-angle-right"></i>
                </a>
                {% endif %}
            </div>
        </div>

        <script>
            // GitBook JS placeholder for _docs pages
            var gitbook = gitbook || [];
            gitbook.push(function () {
                gitbook.page.hasChanged({});
            });
        </script>
    </div>

    {%- include footer.html -%}
</body>

</html>
